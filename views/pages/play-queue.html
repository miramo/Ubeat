<div ng-show="sharedPagesStatus.getIsPageLoaded() && !sharedPagesStatus.getIsCriticalError()">
    <div class="top-page"></div>
    <div class="row">
        <div class="small-12 columns">
            <h1><i class="md md-queue-music"></i> File d'attente</h1>
        </div>
    </div>
    <div ng-show="sharedProperties.getPlayQueue().queue.length > 0" id="tool-bar" class="row">
            <div class="small-12">
                <div class="panel tool-bar-panel radius">
                    <div class="row collapse">
                        <div class="small-6 large-5 columns left">
                            <div class="small-12 medium-5 columns left">

                                <a data-dropdown="drop2" aria-controls="drop1" ng-click="addTrackArrayToAdd(sharedProperties.getPlayQueue().queue)"
                                   aria-expanded="false" class="button red expand radius tiny"><i
                                        class="fa fa-plus fa-lg"></i> Enregistrer
                                </a>
                                <ul id="dropPlay" class="f-dropdown" data-dropdown-content>
                                    <li><a href="">Écouter</a></li>
                                    <li><a href="">Lire à la suite</a></li>
                                    <li><a href="">Lire en dernier</a></li>
                                    <li class="divider"></li>
                                    <li><a href="">Remplacer la file d'attente</a></li>
                                </ul>
                            </div>
                            <div class="small-12 medium-5 columns left">
                                <a ng-click="sharedProperties.resetPlayQueue()"
                                   class="button red expand radius tiny"><i
                                        class="md-delete md-lg"></i> Effacer
                                </a>
                                <ul id="drop2" class="f-dropdown text-center" data-dropdown-content>
                                    <li class="bottom-border">
                                        <a href="" data-reveal-id="myModal2"
                                           ng-click="addTrackArrayToAdd(trackArrayToAddToNewPlaylist)">Nouvelle
                                            playlist</a>
                                    </li>
                                    <li ng-repeat="playlist in sharedProperties.getPlaylists() | orderBy:'-id' track by $index">
                                        <a href=""
                                           ng-click="sharedProperties.addTrackArrayToPlaylist(trackArrayToAddToNewPlaylist, playlist.id)">{{playlist.name}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <div class="row-infos-list">
        <div class="small-12">
            <div ng-show="sharedProperties.getPlayQueue().queue.length > 0">
                <table>
                    <thead>
                    <tr>
                        <th width="30">#</th>
                        <th width="30"></th>
                        <th width="600">Titre de la musique</th>
                        <th width="300">Album</th>
                        <th width="300">Artiste</th>
                        <th width="50" class="text-center"><i class="fa fa-clock-o fa-lg"></i></th>
                        <th width="30"><i class="md-delete md-lg"></i></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="music-row" ng-repeat="track in sharedProperties.getPlayQueue().queue track by $index" ng-mouseover="displayPlayButton(track)"
                        ng-mouseleave="hidePlayButton(track)">
                        <td class="text-center">
                            <div ng-show="track.displayPlayButton && track.playState == sharedProperties.getPlayStates().idle">
                            <span data-tooltip aria-haspopup="true" class="has-tip" title="Écouter"><i
                                  ng-click="sharedProperties.setCurrentTrack(track, false)"
                                  class="fa fa-play fa-lg"></i></span>
                            </div>
                            <div ng-hide="track.displayPlayButton || track.playState != sharedProperties.getPlayStates().idle">
                                {{$index + 1}}
                            </div>
                            <div ng-show="track.playState == sharedProperties.getPlayStates().play">
                                <i class="fa fa-circle-o-notch fa-spin"></i>
                            </div>
                            <div ng-show="track.playState == sharedProperties.getPlayStates().pause">
                                <i class="fa fa-pause"></i>
                            </div>
                        </td>
                        <td class="text-center">
                            <a data-dropdown="drop1"
                               ng-click="addTrackToAdd(track)"
                               aria-controls="drop1"
                               aria-expanded="false">
                      <span data-tooltip aria-haspopup="true" class="has-tip" title="Ajouter">
                          <i class="fa fa-plus"></i>
                      </span>
                            </a>
                            <ul id="drop1" class="f-dropdown" data-dropdown-content>
                                <li class="bottom-border">
                                    <a href="" data-reveal-id="myModal"
                                       ng-click="addTrackToAdd(trackToAddToNewPlaylist)">Nouvelle
                                        playlist</a>
                                </li>
                                <li ng-repeat="playlist in sharedProperties.getPlaylists() | orderBy:'-id' track by $index">
                                    <a href=""
                                       ng-click="sharedProperties.addTrackToPlaylist(trackToAddToNewPlaylist, playlist.id)">{{playlist.name}}</a>
                                </li>
                            </ul>
                        </td>
                        <td>{{track.name}}</td>
                        <td><a href="#/album/{{track.albumId}}">{{track.albumName}}</a>
                        </td>
                        <td><a href="#/artist/{{track.artistId}}">{{track.artistName}}</a>
                        </td>
                        <td class="text-center">
                            {{track.time.Minutes}}:{{track.time.Seconds}}
                        </td>
                        <td class="text-center disable-select delete-track">
                            <i class="md-delete md-lg on-hover" ng-click="sharedProperties.removeTrackFromPlayQueue($index)"></i>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div ng-hide="sharedProperties.getPlayQueue().queue.length > 0">
                <h2 class="text-center">File d'attente vide</h2>
            </div>
        </div>
    </div>
</div>
<div id="myModal" class="reveal-modal" data-reveal>
    <h2>Ajouter le titre à une nouvelle playlist</h2>

    <h2>
        <small>{{trackToAddToNewPlaylist.trackName}}</small>
    </h2>
    <input class="radius" ng-keydown="$event.which == 13 && createPlaylistByTrack(playlistToAdd, '#myModal')"
           ng-model="playlistToAdd" type="text" placeholder="Nom de la playlist"/>
    <a ng-click="createPlaylistByTrack(playlistToAdd, '#myModal')" class="button red radius">Confirmer</a>
    <a class="close-reveal-modal">&#215;</a>
</div>
<div id="myModal2" class="reveal-modal" data-reveal>
    <h2>Ajouter la file d'attente à une nouvelle playlist</h2>

    <input class="radius"  ng-model="playlistToAdd"
           ng-keydown="$event.which == 13 && createPlaylistByTrackArray(playlistToAdd, '#myModal2')" type="text"
           placeholder="Nom de la playlist"/>
    <a ng-click="createPlaylistByTrackArray(playlistToAdd, '#myModal2')" class="button red radius">Confirmer</a>
    <a class="close-reveal-modal">&#215;</a>
</div>
<div ng-show="sharedPagesStatus.getIsPageLoaded() && sharedPagesStatus.getIsCriticalError()">
    <error-msg error-nb={{errorTitle}} msg={{errorMsg}}></error-msg>
</div>