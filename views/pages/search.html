<div ng-show="sharedPagesStatus.getIsPageLoaded() && !sharedPagesStatus.getIsCriticalError()">
    <div class="top-page"></div>
    <div class="row">
        <div class="small-12 columns">
            <h2>Résultats correspondants à : {{elementToSearch}}</h2>
        </div>
    </div>
    <div class="row" ng-show="artists.length > 0">
        <div class="small-12 columns">
            <div class="panel new-artists radius">
                <h2 class="text-center"><i class="md-recent-actors md-lg left"></i> Artistes: </h2>
                <div id="artists-slider" class="row" ng-switch on="sharedPagesStatus.getIsPageLoaded()">
                    <slick class="slider-index" ng-switch-when="true"
                           speed="300" center-mode="true" infinite="true" focus-on-select="true" dots="true"
                           slides-to-show="5" slides-to-scroll="1" swipe-to-slide="true" autoplay="true"
                           autoplay-speed="10000"
                           responsive="[{breakpoint: 1280,settings  : {autoplay    : false,slidesToShow: 5}},{breakpoint: 700,settings  : {autoplay    : false,slidesToShow: 3}},{breakpoint: 580,settings  : {autoplay    : false,dots        : false,slidesToShow: 1}}]">
                        <div class="slider-index-element"
                             ng-repeat="artist in artists track by $index">
                            <a href="#/artist/{{artist.artistId}}">
                                <div class="row bump">
                                    <div class="row">
                                        <div class="card">
                                            <div class="responsive-img" back-img="{{artist.image.url}}"></div>
                                            <div class="row collapse text-card">
                                                <div class="text-center">
                                                    <p class="first-text-card ellipsis">{{artist.artistName}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </slick>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="albums.length > 0">
        <div class="small-12 columns">
            <div class="panel new-albums radius">
                <h2 class="text-center"><i class="md-album md-lg left"></i> Albums :</h2>
                <div id="albums-slider" class="row" ng-switch on="sharedPagesStatus.getIsPageLoaded()">
                    <slick class="slider-index" ng-switch-when="true"
                           speed="300" center-mode="true" infinite="true" focus-on-select="true" dots="true"
                           slides-to-show="5" slides-to-scroll="1" swipe-to-slide="true" autoplay="false"
                           responsive="[{breakpoint: 1280,settings  : {autoplay    : false,slidesToShow: 5}},{breakpoint: 700,settings  : {autoplay    : false,slidesToShow: 3}},{breakpoint: 580,settings  : {autoplay    : false,dots        : false,slidesToShow: 1}}]">
                        <div class="slider-index-element"
                             ng-repeat="album in albums track by $index">
                            <div load-progress="{{$index}}" data-callback="albumLoad" }>
                                <a href="#/album/{{album.collectionId}}">
                                    <div class="row bump">
                                        <div class="row">
                                            <div class="card">
                                                <div class="responsive-img" back-img="{{album.artworkUrl300}}"></div>
                                                <div class="row collapse text-card">
                                                    <div class="text-center">
                                                        <p class="first-text-card ellipsis">{{album.collectionName}}</p>
                                                    </div>
                                                    <div class="text-center">
                                                        <p class="second-text-card ellipsis">{{album.artistName}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </slick>
                </div>
            </div>
        </div>
    </div>
    <div class="row-infos-list">
        <table>
            <thead>
            <tr>
                <th width="30">#</th>
                <th width="30"></th>
                <th width="600">Titre de la musique</th>
                <th width="300">Album</th>
                <th width="300">Artiste</th>
                <th width="50" class="text-center"><i class="fa fa-clock-o fa-lg"></i></th>
            </tr>
            </thead>
            <tbody>
            <tr class="music-row" ng-repeat="track in tracks | orderBy:filter track by $index"
                ng-mouseover="displayPlayButton(track)"
                ng-mouseleave="hidePlayButton(track)">
                <td class="text-center">
                    <div ng-show="track.displayPlayButton && track.playState == sharedProperties.getPlayStates().idle">
                        <span data-tooltip aria-haspopup="true" class="has-tip" title="Écouter"><i
                                ng-click="sharedProperties.setCurrentTrack(track, true)"
                                class="fa fa-play fa-lg"></i></span>
                    </div>
                    <div ng-hide="track.displayPlayButton || track.playState != sharedProperties.getPlayStates().idle">
                        {{$index + 1}}
                    </div>
                    <div ng-show="track.playState == sharedProperties.getPlayStates().play">
                        <i class="fa fa-circle-o-notch fa-spin"></i>
                    </div>
                    <div ng-show="track.playState == sharedProperties.getPlayStates().pause">
                        <i class="fa fa-pause"></i>
                    </div>
                </td>
                <td class="text-center">
                    <a data-dropdown="drop1" ng-click="addTrackToAdd(track)" aria-controls="drop1"
                       aria-expanded="false">
                    <span data-tooltip aria-haspopup="true" class="has-tip" title="Ajouter">
                        <i class="fa fa-plus"></i>
                    </span>
                    </a>
                    <ul id="drop1" class="f-dropdown" data-dropdown-content>
                        <li class="bottom-border">
                            <a href="" data-reveal-id="myModal" ng-click="addTrackToAdd(trackToAddToNewPlaylist)">Nouvelle
                                playlist</a>
                        </li>
                        <li ng-repeat="playlist in sharedProperties.getPlaylists() | orderBy:'-id' track by $index">
                            <a href=""
                               ng-click="sharedProperties.addTrackToPlaylist(trackToAddToNewPlaylist, playlist.id)">{{playlist.name}}</a>
                        </li>
                    </ul>
                </td>
                <td>{{track.name}}</td>
                <td><a href="#/album/{{track.albumId}}">{{track.albumName}}</a></td>
                <td><a href="#/artist/{{track.artistId}}">{{track.artistName}}</a></td>
                <td class="text-center">{{track.time.Minutes}}:{{track.time.Seconds}}</td>
            </tr>
            </tbody>
        </table>
        <div ng-hide="tracks.length > 0 || artists.length > 0 || albums.length > 0">
            <h2 class="text-center">Pas de résultat</h2>
        </div>
    </div>
</div>
<div id="myModal" class="reveal-modal" data-reveal>
    <h2>Ajouter le titre à une nouvelle playlist</h2>

    <h2>
        <small>{{trackToAddToNewPlaylist.trackName}}</small>
    </h2>
    <input class="radius" ng-keydown="$event.which == 13 && createPlaylistByTrack(playlistToAdd, '#myModal')"
           ng-model="playlistToAdd" type="text" placeholder="Nom de la playlist"/>
    <a ng-click="createPlaylistByTrack(playlistToAdd, '#myModal')" class="button red radius">Confirmer</a>
    <a class="close-reveal-modal">&#215;</a>
</div>
<!--<div id="myModal2" class="reveal-modal" data-reveal>-->
<!--<h2>Ajouter la file d'attente à une nouvelle playlist</h2>-->

<!--<input class="radius"  ng-model="playlistToAdd"-->
<!--ng-keydown="$event.which == 13 && createPlaylistByTrackArray(playlistToAdd, '#myModal2')" type="text"-->
<!--placeholder="Nom de la playlist"/>-->
<!--<a ng-click="createPlaylistByTrackArray(playlistToAdd, '#myModal2')" class="button red radius">Confirmer</a>-->
<!--<a class="close-reveal-modal">&#215;</a>-->
<!--</div>-->
<div ng-show="sharedPagesStatus.getIsPageLoaded() && sharedPagesStatus.getIsCriticalError()">
    <error-msg error-nb={{errorTitle}} msg={{errorMsg}}></error-msg>
</div>